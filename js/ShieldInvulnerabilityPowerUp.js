import { PowerUp } from "./PowerUp.js";

export class ShieldInvulnerabilityPowerUp extends PowerUp {
    constructor(spriteData, canvas, ctx, x, y) {
        const defaultSpriteData = {
            startx: x,
            starty: y,
            width: 20, // Example size
            height: 20, // Example size
            color: 'rgba(0, 150, 255, 0.7)', // Bluish color for shield power-up
            // Potentially add src, sx, sy, sWidth, sHeight if using a spritesheet
        };
        
        // Merge provided spriteData with defaults if any
        const finalSpriteData = { ...defaultSpriteData, ...spriteData };

        super(finalSpriteData, canvas, ctx, 'shield_invulnerability', 5); // 5 seconds duration
    }

    applyEffect(spaceship) {
        if (spaceship && typeof spaceship.activateShield === 'function') {
            spaceship.activateShield(this.duration);
        } else {
            console.error("Spaceship object or activateShield method not found for ShieldInvulnerabilityPowerUp.");
        }
    }

    // Optional: Override draw if a specific visual is needed beyond the base PowerUp draw
    // draw() {
    //     if (!this.isActive) return;
    //     super.draw(); // Calls base PowerUp draw, or implement custom drawing
    //     // Example: Add a pulsating effect or a specific icon
    // }
}