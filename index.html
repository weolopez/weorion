<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <link href="http://code.ionicframework.com/1.0.0/css/ionic.min.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->

    <!-- ionic/angularjs js -->
    <script src="http://code.ionicframework.com/1.0.0/js/ionic.bundle.js"></script>
    <script src="https://cdn.rawgit.com/gsklee/ngStorage/master/ngStorage.min.js"></script>

	<!-- Firebase -->
	<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
	
	<!-- AngularFire -->
	<script src="https://cdn.firebase.com/libs/angularfire/1.1.1/angularfire.min.js"></script>
	
	<!-- Angular-contenteditable -->
	<script src="https://cdn.rawgit.com/akatov/angular-contenteditable/master/angular-contenteditable.js"></script>

	<!-- Angular-drag-and-drop-lists -->
	<script src="https://cdn.rawgit.com/marceljuenemann/angular-drag-and-drop-lists/master/angular-drag-and-drop-lists.min.js"></script>
	<script src="https://cdn.rawgit.com/timruffles/ios-html5-drag-drop-shim/master/ios-drag-drop.js"></script>
	
    <!-- cordova script (this will be a 404 during development) 
    <script src="cordova.js"></script>-->
    

    <!-- your app's js -->
     <script src="components/user/user.js"></script>
     <script src="components/application/application.js"></script>
     <script src="components/application/settings/settings.js"></script>
     <script src="components/wiki/pageconf/pageconf.js"></script>
     <script src="components/wiki/page/page.js"></script>
     <script src="components/wiki/story/story.js"></script>
     <script src="components/wiki/wiki.js"></script>
    <!-- Views -->
  </head>

  <body ng-app="starter" >      
    <ion-nav-view></ion-nav-view>    
  </body>
  <script>
  	angular.module('starter', ['ionic', 'ngAnimate', 'component.application', 'component.application.settings', 'component.wiki', 'component.wiki.page', 'component.wiki.story', 'component.wiki.pageconf'])
  	.run(function ($ionicPlatform) {
            $ionicPlatform.ready(function () {
                // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
                // for form inputs)
                if (window.cordova && window.cordova.plugins.Keyboard) {
                    window.cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
                }
                if (window.StatusBar) {
                    // org.apache.cordova.statusbar required
                    StatusBar.styleDefault();
                }
            });
        })
        .config(function ($stateProvider, $urlRouterProvider) {
            $stateProvider
                    .state('app', {
                        url: "/app",
                        abstract: true,
                        templateUrl: "components/application/application.html",
                        controller: 'AppCtrl as app'
                    })
                    .state('app.wiki', {
                        url: '/wiki/:name',
                        views: {
                            'page': {
		                        templateUrl: 'components/wiki/page/page.html',
		                        controller: 'PageCtrl as page'
		                     },
                            'story': {
		                        templateUrl: 'components/wiki/story/story.html',
		                        controller: 'StoryCtrl as story'
		                     }, 
                            'pageconf': {
		                        templateUrl: 'components/wiki/pageconf/pageconf.html',
		                        controller: 'PageConfCtrl as pageconf'
		                     }, 
                            'settings': {
		                        templateUrl: 'components/application/settings/settings.html',
		                        controller: 'SettingsCtrl as settings'
		                     }
		             	}        
                    })
                    ;
            // if none of the above states are matched, use this as the fallback
            $urlRouterProvider.otherwise('/app/wiki/New');
        })
  </script>
</html>
