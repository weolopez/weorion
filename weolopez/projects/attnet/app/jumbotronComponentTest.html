<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" ng-app="weolopezApp.services">
    <head>

    </head>
    <body>



        <div class="module" id="featuredGal" ng-controller="jumbotronController">
            <ul id="attFeatured">

                <li ng-repeat="offer in offerList"><img src="{{offer.imgsrc}}" alt="{{offer.imgalt}}" title="{{offer.imgtitle}}" />
                    <div class="panel-content">
                        <div class="img"><a href="{{offer.linkurl}}"><img src="{{offer.linkimagesrc}}" alt="{{offer.linkimagealt}}" title="{{offer.linkimagetitle}}" /></a></div>
                        <div class="desc">
                            <h1>{{offer.title}}</h1>
                            <p>{{offer.description}}</p>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <script type="text/javascript" src="http://www.att.net/js/jquery/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="http://www.att.net/js/jquery/tinyCarousel/jquery.tinycarousel.1.9.js"></script>
        <link type="text/css" rel="stylesheet" href="http://www.att.net/design/cdls10/css/galleryview-at.css" />
        <script type="text/javascript" src="http://www.att.net/js/jquery/galleryview-2.1.1/jquery.easing.1.3.js"></script> 
        <script type="text/javascript" src="http://www.att.net/design/cdls10/ch/at/galleryview-2.1.1/jquery.galleryview-at-1.1.js"></script>
        <script type="text/javascript" src="http://www.att.net/js/jquery/galleryview-2.1.1/jquery.timers-1.2.js"></script> 
        <script src="lib/angular/angular.js"></script>
        <script >
   
var weolopezModules = angular.module('weolopezApp.services', ['jumbotronController','getComponents']);   
weolopezModules.controller('jumbotronController', function jumbotronController($scope, offerList) {
    $scope.offerList = offerList;
});

weolopezModules.factory('getComponents', function ($http) {
    var offerList = [];
    var recommendationURL = "http://home.orionhub.org:8080/weolopez/projects/attnet/app/recommendationResponse.json";
    $http.get(recommendationURL).success(function(data) {
        offerList = data.offers.jumbotron;
    }).error(function(data, status) {
        alert("ERROR");
    });
    return offerList;
});
        </script>
    </body>

</html>